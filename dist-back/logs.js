import db from "./dataBase.js";
process.on("uncaughtException", (e) => {
    try {
        console.error("Uncaught Exception: ", e);
        db.logs.add("uncaughtException", {
            error: e.message,
            stackTrace: e.stack
        });
    }
    catch (e) {
        console.error("Critical error: ", e);
    }
});
process.on('unhandledRejection', (reason, promise) => {
    try {
        console.error("Unhandled Rejection: ", reason);
        db.logs.add("unhandledRejection", {
            reason: reason,
            promise: promise
        });
    }
    catch (e) {
        console.error("Critical error: ", e);
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9ncy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL2JhY2svbG9ncy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFNUIsT0FBTyxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO0lBQ2xDLElBQUcsQ0FBQztRQUNBLE9BQU8sQ0FBQyxLQUFLLENBQUMsc0JBQXNCLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDekMsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUU7WUFDN0IsS0FBSyxFQUFFLENBQUMsQ0FBQyxPQUFPO1lBQ2hCLFVBQVUsRUFBRSxDQUFDLENBQUMsS0FBSztTQUN0QixDQUFDLENBQUM7SUFDUCxDQUFDO0lBQUEsT0FBTSxDQUFDLEVBQUMsQ0FBQztRQUNOLE9BQU8sQ0FBQyxLQUFLLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsT0FBTyxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNqRCxJQUFHLENBQUM7UUFDQSxPQUFPLENBQUMsS0FBSyxDQUFDLHVCQUF1QixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFO1lBQzlCLE1BQU0sRUFBRSxNQUFNO1lBQ2QsT0FBTyxFQUFFLE9BQU87U0FDbkIsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUFBLE9BQU0sQ0FBQyxFQUFDLENBQUM7UUFDTixPQUFPLENBQUMsS0FBSyxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyJ9