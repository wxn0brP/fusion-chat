import { unlinkSync } from "fs";
import { db } from "./imports.js";
export default async (id, data) => {
    await db.realmConf.updateOne(id, { _id: "set" }, data.meta);
    if (!data.meta.img) {
        try {
            unlinkSync("userFiles/realms/" + id + ".png");
        }
        catch { }
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2JhY2svc29ja2V0L2NoYXQvbG9naWMvcmVhbG1TZXR0aW5ncy9zZXQvbWV0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sSUFBSSxDQUFDO0FBQ2hDLE9BQU8sRUFBRSxFQUFFLEVBQTRCLE1BQU0sV0FBVyxDQUFDO0FBRXpELGVBQWUsS0FBSyxFQUFFLEVBQU0sRUFBRSxJQUEwQixFQUFFLEVBQUU7SUFDeEQsTUFBTSxFQUFFLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVELElBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBQyxDQUFDO1FBQ2YsSUFBRyxDQUFDO1lBQ0EsVUFBVSxDQUFDLG1CQUFtQixHQUFHLEVBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQztRQUNsRCxDQUFDO1FBQUEsTUFBSyxDQUFDLENBQUEsQ0FBQztJQUNaLENBQUM7QUFDTCxDQUFDLENBQUEifQ==